<script>
    function checkthis(elm) {
        var cElem = $("#all" + elm);
        if (cElem.is(":checked")) {
            $("input." + elm).prop("checked", true);
        } else {
            $("input." + elm).prop("checked", false);
        }
    }
    $("#roleName").on('change', function () {
        location.href = "/zrole?id=" + $(this).val();
    });
    var form = document.getElementById("role-form");
    form.onsubmit = function (ev) {
        ev.preventDefault();
        var url = '/zrole/update/<%= id%>';
        ajaxPost(url, $(this).serialize(), function (data) {
            if (data.status == 1) {
                toastr.success('Success', 'Updated Role');
            } else {
                toastr.error('Error!',data.data);
            }
        });
    }
    $(".btn-update").on("click", function () {
        ajaxPost('/zrole/rename/<%= id%>',{
            rename : $("#rename").val()
        }, function (data) {
            toastrForm(data);
            setTimeout(function () {
                location.href= '';
            },2000);
        })
    })

    $(".btn-add").on("click", function () {
        ajaxPost('/zrole/create/',{
            name : $("#role_name").val()
        }, function (data) {
            toastrForm(data);
            setTimeout(function () {
                location.href= '';
            },2000);
        })
    })
    function deleterole() {
        if(window.confirm('delete role selected ? ')) {
            let id = "<%= id%>";
            ajaxDelete('/zrole/delete/<%= id%>',{id:id}, function (data) {
                toastrForm(data);
                setTimeout(function () {
                    location.href= '/zrole';
                },2000);
            })
        }
    }
</script>
